<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>Live ECL Interpreter</title>
		<link rel="stylesheet" type="text/css" href="index.css">
		<link rel="stylesheet" type="text/css" href="indexMobile.css" id="mobile" media="(max-width: 760px)">
		<link rel="icon" href="assets/fav.ico">

		<script src="libs/codemirror/lib/codemirror.js"></script>
		<script src="libs/codemirror/mode/clike/clike.js"></script>
		<link  href="libs/codemirror/lib/codemirror.css" rel="stylesheet">
		<link  href="libs/codemirror/theme/idea.css" rel="stylesheet">

		<script src="libs/jquery-3.4.1.js"></script>
		<script src="libs/jquery.hotkeys.js"></script>
		<script src="libs/socket.io.js"></script>

		<script src="index.js"></script>
	</head>

	<body>
		<div id="header">
			<img src="assets/logo.png" alt="logo" onclick="showInfo(event);">
		</div>

		<div id="info">
			<div id="button">Automatic</div>
			<select id="ver">
				<option value="06"    disabled>6&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- Embodiment of Scarlet Devil</option>
				<option value="07"    disabled>7&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- Perfect Cherry Blossom</option>
				<option value="08"    disabled>8&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- Imperishable Night</option>
				<option value="09"    disabled>9&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- Phantasmagoria of Flower View</option>
				<option value="10"   disabled>10&nbsp;&nbsp;&nbsp;&nbsp;- Mountain of Faith</option>
				<option value="11"   disabled>11&nbsp;&nbsp;&nbsp;&nbsp;- Subterranean Animism</option>
				<option value="12"   disabled>12&nbsp;&nbsp;&nbsp;&nbsp;- Undefined Fantastic Object</option>
				<option value="13"   selected>13&nbsp;&nbsp;&nbsp;&nbsp;- Ten Desires</option>
				<option value="14"   disabled>14&nbsp;&nbsp;&nbsp;&nbsp;- Double Dealing Character</option>
				<option value="14.3" disabled>14.3 - Impossible Spell Card</option>
				<option value="15"   disabled>15&nbsp;&nbsp;&nbsp;&nbsp;- Legacy of Lunatic Kingdom</option>
				<option value="16"   disabled>16&nbsp;&nbsp;&nbsp;&nbsp;- Hidden Star in Four Seasons</option>
				<option value="16.5" disabled>16.5 - Violet Detector</option>
				<option value="17"   disabled>17&nbsp;&nbsp;&nbsp;&nbsp;- Wily Beast and Weakest Creature</option>
			</select>
			<select id="diff">
				<option value=0>Easy</option>
				<option value=1 selected>Normal</option>
				<option value=2>Hard</option>
				<option value=3>Lunatic &nbsp;</option>
			</select>
			<div class="opt" data-tip="Use&nbsp;deprecated&nbsp;ECL&nbsp;maps.&nbsp;If&nbsp;you&nbsp;don't&nbsp;know what&nbsp;this&nbsp;means,&nbsp;don't&nbsp;use&nbsp;it.">
				<input type="checkbox" id="old">Old&nbsp;Maps</div>
			<div class="opt" data-tip="Use&nbsp;'simple'&nbsp;compiler&nbsp;mode,&nbsp;equivalent&nbsp;to&nbsp;'-s'. Disallows&nbsp;modern&nbsp;formatting&nbsp;among&nbsp;other&nbsp;things.">
				<input type="checkbox" id="s">Basic</div>
			<div class="opt" data-tip="Sets&nbsp;which&nbsp;sub&nbsp;the&nbsp;game&nbsp;should&nbsp;run&nbsp;first. Defaults&nbsp;to&nbsp;'main'.">
				<input type="text" id="entry" value="main" maxlength="25">&nbsp;Entry</div>
			<div id="display" data-tip="Click&nbsp;to&nbsp;see more&nbsp;options!">More..</div>
			<div data-tip="Click&nbsp;me!" style="height:16px"><img id="orb" onclick="showInfo(event);" src="assets/info.png" alt="Info"></div>
		</div>

		<div id="main">
			<div id="action">
				<div id="editor">
					<textarea id="edit">
void main()
{
	etNew(0);
	etSprite(0, ET_RICE, COLOR16_PINK);

	etAim(0, AIM_AT);
	etCount(0, 2:4:6:8, 2:4:6:8);
	etSpeed(0, 3f, 2f);
	etAngle(0, 0f, rad(15));

	etEx(0, 0, EX_DIST, NEG, NEG, NEGF, NEGF);

	while(1)
	{
		etOffset(0, RANDF2*40f, RANDF2*40f);
		etOn(0);
		wait(75);
	}
}</textarea>
					<table id="editPanel" style="left:15px">
						<tr>
							<th data-tip="New&nbsp;file. (Alt)&nbsp;N" class="panelButton" id="new" onclick="newFile();"><img src="assets/new.png" alt="N"></th>
							<th data-tip="Toggle&nbsp;theme. (Alt)&nbsp;T" class="panelButton" id="theme" onclick="toggleTheme();"><img src="assets/night.png" alt="T"></th>
							<th data-tip="Upload&nbsp;file. (Alt)&nbsp;U" class="panelButton" id="upload" onclick="upload();"><img src="assets/upload.png" alt="U"></th>
							<th data-tip="Download&nbsp;file. (Alt)&nbsp;D" class="panelButton" id="download" onclick="downloadFn();"><a><img src="assets/download.png" alt="D"></a></th>
							<th data-tip="Close&nbsp;window. (Alt)&nbsp;I" class="panelButton" id="windowClose" onclick="windowClose();"><img src="assets/internal.png" alt="I"></th>
							<th class="panelButton" id="down" onclick="down();"><img src="assets/down.png" alt="↓"></th>
						</tr>
					</table>
				</div>
				<div id="game">
					<iframe id="gameWindow" src="game.html"></iframe>
					<table id="gamePanel" style="right:15px">
						<tr>
							<th data-tip="Fullscreen&nbsp;mode. (Alt)&nbsp;F" class="panelButton" id="fullscreen" onclick="fullscreen();"><img src="assets/fullscreen.png" alt="F"></th>
							<th data-tip="External&nbsp;window. (Alt)&nbsp;E" class="panelButton" id="windowOpen" onclick="windowOpen();"><img src="assets/external.png" alt="E"></th>
							<th class="panelButton" id="up" onclick="up();"><img src="assets/up.png" alt="↑"></th>
						</tr>
						<tr>
							<th data-tip="Clears&nbsp;bullets. (Alt)&nbsp;C" class="panelButton" id="clear" onclick="clearBullets();"><img src="assets/clear.png" alt="C"></th>
							<th data-tip="Restart&nbsp;game. (Alt)&nbsp;R" class="panelButton" id="restart" onclick="restart();"><img src="assets/restart.png" alt="R"></th>
						</tr>
					</table>
					<table id="charTable">
						<tr>
							<th><img data-value=0 src="assets/random.png" class="selected" ></th>
							<th><img data-value=1 src="assets/reimu.png"></th>
							<th><img data-value=2 src="assets/marisa.png"></th>
							<th><img data-value=3 src="assets/sanae.png"></th>
							<th><img data-value=4 src="assets/youmu2.png"></th>
						</tr>
					</table>
				</div>
			</div>

			<div id="terminal"><br><b>LiveECL v<span class="version"></span>:</b> now with tooltips and a main menu!<br><b>Alt+S:</b> switches focus, &nbsp;&nbsp;&nbsp; <b>Alt+R:</b> restarts the game,<br><b>Alt+C:</b> clears all bullets, <b>Alt+F:</b> fullscreen.<br><i>... and much more!</i><br></div>
		</div>
		<input type="file" id="fileUpload" accept=".ecs, .txt, .tecl">
		<div id="infoMenu">
			<div id="tab">
				<button class="tablinks default" onclick="showTab(event, 'about')">About</button>
				<button class="tablinks" onclick="showTab(event, 'features')">Features</button>
				<button class="tablinks" onclick="showTab(event, 'progress')">Progress</button>
				<button class="tablinks" onclick="showTab(event, 'documentation')">Documentation</button>
				<button class="tablinks" onclick="showTab(event, 'database')">Database</button>
				<button class="tablinks" onclick="showTab(event, 'options')">Options</button>
			</div>

			<div id="about" class="tabcontent">
				<h3>About</h3>
				<p>LiveECL is an online interface to both a <span class="compLog">compiler</span> and an <span class="gameLog">interpreter</span> for the <b>E</b>nemy <b>C</b>ontrol <b>L</b>anguage, otherwise known as <b>ECL</b>. As the scripting language of the <a href="https://en.wikipedia.org/wiki/Touhou_Project">Touhou Project</a>, it is used to choreograph the enemies and patterns that appear in all Touhou Project games.</p>
				<p>This project is made by and for the community, with the ultimate goal of being a <b>perfectly accurate</b> simulator for ECL scripts to aid making modding ("patching") more <b>accessible</b> and more <b>convenient</b>. One of the ultimate goals of the project will be the ability to play full Touhou Project stages in the browser, from any device.</p>
				<p>LiveECL started in December of 2019 and is lead by Guy L. For any inquiries, bug-reporting or suggestions, you can reach me on Discord (@Guy#8081) or through email at <a href="mailto: g.guy.lab@gmail.com">g.guy.lab@gmail.com</a>.</p>
				<p>LiveECL is still in active development - see the <a onclick="showTab(event, 'progress')">Progress</a> tab for more information. If you need any help, the <a onclick="showTab(event, 'features')">Features</a> and <a onclick="showTab(event, 'documentation')">Documentation</a> pages are for you.<br></p>
				<p><i>Modders are still preparing, please wait warmly and have some tea.</i></p>
				<p class="version center"><b>Current version: </b></p>
				<img src="logo.png" align="middle">
			</div>

			<div id="features" class="tabcontent">
				<h3>Features</h3>
				<p>Features</p>
			</div>

			<div id="progress" class="tabcontent">
				<h3>Progress</h3>
				<p>Progress</p>
			</div>

			<div id="documentation" class="tabcontent">
				<h3>Documentation</h3>
				<p>Documentation</p>
			</div>

			<div id="database" class="tabcontent">
				<h3>Database</h3>
				<p>Database</p>
			</div>

			<div id="options" class="tabcontent">
				<h3>Options</h3>
				<p>Options</p>
			</div>

			<img src="assets/close.png" id="menuClose" onclick="hideInfo();" alt="Close">
		</div>
	</body>
</html>